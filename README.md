# DataAnalyzer Pro

![DataAnalyzer Pro](https://img.shields.io/badge/Version-1.0-blue) ![License](https://img.shields.io/badge/License-MIT-green) ![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen)

**製造・品質保証部門向け次世代データ分析プラットフォーム**

プログラミング知識不要で、ドラッグ&ドロップによる直感的な操作で高度な統計分析・異常値検出を実現します。

## 🌟 特徴

- **📊 豊富な分析手法**: 8つの専門的分析手法を搭載
- **🔍 高度な異常値検出**: マハラノビス距離・IQR法・Z-score法
- **📁 マルチフォーマット対応**: CSV、Excel (xlsx)、JSON、TSV
- **🎨 美しい可視化**: Plotly.jsによるインタラクティブなグラフ
- **🧠 AI解釈機能**: 分析結果の自動日本語解釈（パラメータ解説付き）
- **🎯 横並び表示**: 統計値とAI解釈を同時確認できる効率的なUI
- **📚 学習支援**: 統計パラメータの意味・計算式・判定基準を詳細解説
- **🗺️ 分析ガイド**: データに最適な分析手法を選択支援
- **🔒 セキュア**: データはブラウザ内で完全に処理（外部送信なし）
- **⚡ 高速**: リアルタイムでの分析処理
- **📱 レスポンシブ**: デスクトップ・タブレット・モバイル対応

## 🚀 デモ

### ホームページ
![Homepage](docs/homepage-demo.gif)

### 分析環境
![Analyzer](docs/analyzer-demo.gif)

### 分析手法選択ガイド
![Guide](docs/guide-demo.gif)

## 📦 インストール

1. リポジトリをクローンまたはダウンロード
```bash
git clone https://github.com/kiyo0128/data-analyzer.git
cd data-analyzer
```

2. Webサーバーで起動（推奨）
```bash
# Python 3の場合
python -m http.server 8000

# Node.jsのlive-serverの場合
npx live-server

# PHP（XAMPP/MAMP等）
# ファイルをwwwフォルダに配置
```

3. ブラウザで開く
```
http://localhost:8000
```

## 🎯 使用方法

### 1. ホームページでの概要確認
- `index.html`でプラットフォームの概要を確認
- 「分析ガイド」で最適な分析手法を学習
- 「今すぐ開始」ボタンで分析環境へ移動

### 2. 分析手法選択ガイド（新機能）
- `guide.html`でデータに最適な分析手法を選択
- インタラクティブなフロー図で手法を決定
- 6つの分析パターン別ガイド
- 各手法の詳細リファレンス

### 3. データアップロード
- ファイルをドラッグ&ドロップまたはクリックで選択
- 対応形式：CSV、Excel、JSON、TSV（最大50MB・10万行）

### 4. データプレビュー
- アップロードしたファイルから分析対象を選択
- データの内容を表で確認（オンデマンド表示）

### 5. 列選択・前処理
- X軸（独立変数）・Y軸（従属変数）を選択
- 欠損値の処理方法を選択：
  - 除外
  - 平均値補完
  - 線形補完

### 6. 分析実行
以下の8つの分析手法から選択：

#### 📈 相関分析
- Pearson相関係数・Spearman相関係数
- 散布図付きの関係性可視化
- 決定係数（R²）の算出

#### 📊 単回帰分析
- 回帰式の算出・決定係数（R²）
- 残差プロット・予測区間
- 回帰直線の可視化

#### 📋 記述統計
- 平均、中央値、分散、標準偏差
- 最大値、最小値、四分位数
- 歪度・尖度による分布特性

#### 📊 ヒストグラム
- 度数分布・正規性の確認
- 分布の形状分析
- 品質管理の観点での評価

#### 🏭 工程能力分析
- Cp指数・Cpk指数の算出
- 規格限界との比較
- 工程能力の評価とガイダンス

#### 📉 管理図
- 3σ管理限界・異常点の検出
- 工程の安定性評価
- 時系列での品質監視

#### 🎯 マハラノビス距離（新機能）
- **多変量異常値検出**
- 変数間の相関を考慮した距離計算
- 95%信頼楕円による異常値判定
- 2変数以上のデータに対応

#### ⚠️ 異常値検出（新機能）
- **IQR法**: 四分位範囲による検出
- **Z-score法**: 標準偏差による検出
- **修正Z-score法**: 中央絶対偏差による頑健な検出
- 複数手法による総合判定

### 7. 結果確認（2025年1月改訂）
- **インタラクティブなグラフ表示**: Plotly.jsによる高品質な可視化
- **横並び結果表示**: 統計値とAI解釈を同時確認（レスポンシブ対応）
- **詳細なパラメータ解説**: 全統計量の意味と計算方法を説明
- **AI による結果の日本語解釈**: 専門知識がなくても理解できる詳細解釈
- **判定基準の明示**: 各分析手法の評価基準を具体的に提示
- **改善提案**: 具体的なアクションプランと対応策を提供
- **PNG・SVG形式でのダウンロード**: 高品質な画像出力

## 🛠️ 技術仕様

### フロントエンド
- **HTML5** + **CSS3** + **JavaScript (ES6+)**
- **Tailwind CSS**: スタイリング
- **Font Awesome**: アイコン
- **Google Fonts**: Inter フォント

### ライブラリ
- **Plotly.js (2.27.0)**: データ可視化
- **Simple Statistics (7.8.3)**: 統計計算
- **XLSX.js (0.18.5)**: Excel ファイル処理
- **Mermaid.js**: フロー図生成

### 対応ブラウザ
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 📁 ファイル構成

```
data-analyzer/
├── index.html                    # ホームページ
├── analyzer.html                 # 分析環境
├── guide.html                    # 分析手法選択ガイド（新機能）
├── app.js                        # データ管理・ファイル処理
├── analysis.js                   # 分析機能（8つの手法）
├── visualization.js              # 可視化機能
├── interpretation.js             # AI解釈機能
├── sample_manufacturing_data.csv # サンプル製造データ
├── sample_quality_data.csv       # サンプル品質データ
├── LICENSE                       # MITライセンス
└── README.md                     # このファイル
```

## 💡 サンプルデータ

### 製造データ (sample_manufacturing_data.csv)
- 時間、温度、圧力、品質スコア、不良率
- 相関分析・回帰分析・管理図に最適

### 品質管理データ (sample_quality_data.csv)
- ロット番号、寸法、重量、硬度、表面粗さ
- 工程能力分析・異常値検出・記述統計に最適

## 🔧 分析手法詳細

### 基本統計分析
| 手法 | 用途 | 必要データ | 出力 |
|------|------|------------|------|
| 相関分析 | 変数間の関係性 | 2変数（数値） | 相関係数、散布図 |
| 回帰分析 | 予測モデル | 2変数（数値） | 回帰式、R²、残差プロット |
| 記述統計 | データ概要 | 1変数（数値） | 基本統計量、分布特性 |
| ヒストグラム | 分布確認 | 1変数（数値） | 度数分布、正規性 |

### 品質管理分析
| 手法 | 用途 | 必要データ | 出力 |
|------|------|------------|------|
| 工程能力分析 | 工程評価 | 1変数+規格値 | Cp/Cpk指数、能力評価 |
| 管理図 | 工程監視 | 1変数（時系列） | 管理限界、異常点 |

### 異常値検出（新機能）
| 手法 | 用途 | 必要データ | 出力 |
|------|------|------------|------|
| マハラノビス距離 | 多変量異常検出 | 2変数以上 | 距離、信頼楕円、異常値 |
| IQR/Z-score法 | 単変量異常検出 | 1変数 | 異常値、統計的判定 |

## 🧠 AI解釈機能の詳細

### パラメータ解説機能
各分析手法で以下の詳細情報を提供：

**📊 統計パラメータの意味**
- 各統計量の定義と計算方法
- 統計的意味と実用的な解釈
- パラメータ間の関係性

**📋 判定基準**
- 業界標準の評価基準
- 具体的な数値範囲と意味
- 品質管理の観点での評価

**🔧 改善提案**
- 分析結果に基づく具体的なアクション
- 問題がある場合の対応策
- 良好な場合の維持方法

**📚 学習支援**
- 統計学の基礎知識
- 分析手法の適用条件
- 実務での活用方法

### 横並び表示の利点
- **効率的な確認**: 統計値と解釈を同時に確認
- **理解促進**: 数値と意味を関連付けて学習
- **意思決定支援**: データから行動への橋渡し
- **教育効果**: 統計学の実践的な学習

## 🎨 カスタマイズ

### 新しい分析手法の追加
1. `analysis.js`に分析関数を追加
2. `visualization.js`に可視化関数を追加
3. `interpretation.js`に解釈関数を追加
4. `analyzer.html`にUIコンポーネントを追加
5. `guide.html`にガイド情報を追加

### AI解釈機能の拡張
```javascript
// interpretation.js でのカスタム解釈関数の例
function interpretCustomAnalysis(results) {
    let interpretation = `<strong>📊 [解析名]のパラメータ</strong><br>`;
    interpretation += `• <strong>[パラメータ1]</strong>：[説明]<br>`;
    // ... パラメータの詳細解説
    interpretation += `<strong>🔍 分析結果の解釈</strong><br>`;
    // ... 結果の解釈
    interpretation += `<strong>📋 判定基準</strong><br>`;
    // ... 判定基準
    return interpretation;
}
```

### スタイルのカスタマイズ
- Tailwind CSS クラスの変更
- カスタムCSSの追加（`<style>`セクション）
- グラデーション・アニメーションの調整

## 🚀 将来の拡張予定

### フェーズ1: 異常値検出強化（完了）
- ✅ マハラノビス距離による多変量異常検出
- ✅ IQR法・Z-score法・修正Z-score法
- ✅ 分析手法選択ガイド

### フェーズ2: 多変量解析
- [ ] 主成分分析（PCA）
- [ ] 多変量管理図
- [ ] クラスター分析

### フェーズ3: 時系列・実験計画
- [ ] トレンド分析
- [ ] 分散分析（ANOVA）
- [ ] 自己相関分析

### フェーズ4: 本番アーキテクチャ
- [ ] バックエンド: Python (FastAPI) + PostgreSQL
- [ ] 認証: JWT + RBAC
- [ ] API: RESTful API設計
- [ ] デプロイ: Docker + Kubernetes

## 🤝 コントリビューション

1. Fork this repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## 📄 ライセンス

このプロジェクトは MIT ライセンスのもとで公開されています。詳細は [LICENSE](LICENSE) ファイルをご覧ください。

## 👥 作成者

**DataAnalyzer Pro Team**
- 企画・開発・設計・品質管理

## 📞 サポート

質問やバグ報告がございましたら、[Issues](https://github.com/kiyo0128/data-analyzer/issues) までお気軽にお声かけください。

## 🏆 更新履歴

### v1.1.0 (2025-01-14) - 最新版
**🎨 UI/UX改善**
- ✨ 分析結果とAI解釈の横並び表示機能を追加
- 📱 レスポンシブデザインでモバイル・タブレット対応強化
- 🎯 統計値と解釈を同時確認できる効率的なレイアウト

**🧠 AI解釈機能の大幅拡張**
- 📊 全分析手法でパラメータの詳細解説を追加
- 📋 判定基準と評価の目安を明示
- 🔧 具体的な改善提案とアクションプランを提供
- 📚 統計学習機能の充実（パラメータの意味・計算式・適用条件）

**📈 解釈内容の充実**
- **相関分析**: 相関係数の意味、強さの目安、統計的意義
- **回帰分析**: 回帰式、決定係数、適合度の詳細評価
- **記述統計**: 基本統計量の意味、分布特性の解釈
- **ヒストグラム**: 分布形状、正規性評価、品質管理視点
- **工程能力分析**: Cp/Cpk指数、不良率の目安、改善提案
- **管理図**: 3σ原理、判定ルール、統計的解釈
- **マハラノビス距離**: 多変量異常検出の原理、閾値設定
- **異常値検出**: IQR法・Z-score法・修正Z-score法の詳細比較

### v1.0.0 (2025-01-14)
- ✨ マハラノビス距離による多変量異常値検出機能を追加
- ✨ IQR法・Z-score法・修正Z-score法による異常値検出機能を追加
- ✨ 分析手法選択ガイド（guide.html）を新規作成
- 🎨 新しい可視化機能（信頼楕円、ボックスプロット、異常値ハイライト）
- 🧠 AI解釈機能の大幅拡張
- 📊 8つの分析手法を完全サポート

### v0.1.0 (2025-01-13)
- 🎉 初回リリース
- 📊 基本的な6つの分析手法を実装
- 🎨 美しいUI/UXデザイン
- 📁 マルチフォーマット対応

---

**DataAnalyzer Pro** - 製造・品質保証の未来を切り開く分析プラットフォーム 